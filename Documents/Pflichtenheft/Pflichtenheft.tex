\documentclass[12pt,a4paper,ngerman,enabledeprecatedfontcommands]{scrreprt}

\input{Allgemein/TeX/Kopfdaten.tex}

\title{Pflichtenheft\\ Verkehrszeichenerkennung}

\date{~\\01.05.2018}

\begin{document}
\maketitle%
%\input{Allgemein/TeX/Disclaimer.tex}%
\tableofcontents%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% MANDATORY; DO NOT REMOVE %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagestyle{plain}%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Zielbestimmungen}
\label{chap:zielbestimmmungen}

\section{Ausgangssituation}
Die meisten Autofahrer kennen das Gefühl der Unsicherheit über die aktuell erlaubte Höchstgeschwindigkeit. Daher verfügen viele moderne Fahrzeuge über eine automatische Verkehrszeichenerkennung, mit deren Hilfe der Fahrzeugführer zu jedem Zeitpunkt über die aktuell geltenden Verkehrsregelungen informiert ist. Der Fahrzeugführer kann beispielsweise stets die zulässige Geschwindigkeit nachvollziehen und gegebenenfalls auf ein Überschreiten dieser hingewiesen werden. Die Verkehrszeichenerkennung ist dabei meist als Fahrerassistenzsystem fest im \gls{Fahrzeug} verankert und nutzt zur Erkennung der Verkehrszeichen eine in Höhe des Innenspiegels angebrachte Kamera. Folglich ist ein solches Assistenzsystem ausschließlich modernen Fahrzeugen mit entsprechender Ausstattung vorbehalten.
Bisher existierte keine, mit diesem Projekt vergleichbare, praktikable Möglichkeit, ein solches Assistenzsystem auch in älteren und preisgünstigeren Fahrzeugen nachzurüsten. Zwar sind diverse Apps zur Verkehrszeichenerkennung für Android und iOS bereits verfügbar, allerdings ist keine davon in der Lage, mit der in diesem Projekt geplanten Verlässlichkeit und Performanz geschwindigkeitsregulierende Verkehrszeichen und \glslink{Verkehrszeichenkombination}{Verkehrszeichenkombinationen} zu erkennen.\\

\section{Ziel}
Ziel dieses Softwareprojektes ist es, ein \gls{System} (bestehend aus einem \gls{Smartphone}, einer KFZ-Smartphonehalterung und einer \gls{App}) zur Verkehrszeichenerkennung zu entwickeln,
welches in jedem \gls{Fahrzeug} nachgerüstet werden kann. Inhalt der dafür zu entwickelnden \gls{App} ist eine Benutzerschnittstelle, welche erkannte Verkehrszeichen während der Fahrt anzeigt, sowie eine Logik-Schnittstelle, welche in Echtzeit aus Kameraaufnahmen Verkehrsschilder identifiziert, aber derart modular aufgebaut ist, um auch andere Detektionsprobleme zu lösen.\\

\section{Musskriterien}
\label{sec:musskriterien}
Im Folgenden werden die Produkteigenschaften und -funktionen genannt, welche für das Projekt unabdingbar sind. Sollte eines dieser Kriterien nicht erfüllt werden können, kann das Endergebnis in seiner Nutzbarkeit sehr stark eingeschränkt sein.

\begin{itemize}

\item Die Verkehrszeichenerkennung soll bei klarer Sicht und Tageslicht bis zu einer maximalen Geschwindigkeit funktionieren.

\item Das \gls{System} soll unter genauer Spezifikation von Halterung und Spannungsversorgung für das \gls{Smartphone} in jedem \gls{Fahrzeug} nachgerüstet werden können.

\item Der \gls{Nutzer} soll zur richtigen Ausrichtung des \glslink{Smartphone}{Smartphones} bei Stillstand des Fahrzeugs mit einer Kalibrierungsphase unterstützt werden. Er soll dazu Anweisungen auf dem Bildschirm erhalten.

\item Die Erkennung von Verkehrszeichen, Zusatz- und Sonderschildern durch die \gls{App} ist auf solche beschränkt, welche einen Einfluss auf die minimal oder maximal zulässige Geschwindigkeit sowie ihren Geltungsbereich haben.

\item Die \gls{App} soll in der Lage sein, \glslink{Geschwindigkeitsschild}{Geschwindigkeitsschilder} (gemäß §58 \gls{StVZO}) auf LKWs herauszufiltern, um ein fehlerhaftes Anzeigen zu vermeiden.

\item Die Erkennung der Verkehrszeichen soll in Echtzeit, das heißt videotaktschritthaltend erfolgen. Nach dem Passieren eines Verkehrszeichens darf höchstens eine kaum bemerkbare Verzögerung bis zum Erscheinen auf dem Display entstehen.

\item Die Kernfunktionalität zur \gls{Detektion} und \gls{Klassifikation} von Verkehrszeichen im Kamerabild soll auf andere \glslink{Detektion}{Detektionsprobleme} übertragbar gestaltet sein. Dafür wird dieser Aspekt in eine eigene wiederverwendbare Bibliothek ausgelagert, im Folgenden \glqq\gls{Filterverwaltungs-Bibliothek}\grqq{} genannt.
\end{itemize}

\section{Sollkriterien}
Im Folgenden werden die Produkteigenschaften und -funktionen genannt, welche für das Projekt als Soll-Anforderung gelistet sind. Sollte eines dieser Kriterien nicht erfüllt werden, entspricht das \gls{Produkt} nicht mehr allen Anforderungen des Auftraggebers, ist aber dennoch nutzbar.

\begin{itemize}
\item Die aktuelle Geschwindigkeit soll nach Wunsch mittels GPS erfasst werden. Bei Überschreitung der zulässigen Geschwindigkeit - ermittelt aus dem aktuell erkannten Verkehrszeichen - wird eine entsprechende Warnung auf dem Display dargestellt.

\item Die Benutzeroberfläche soll sowohl in deutscher als auch englischer Sprache zur Verfügung stehen.

\item Die Erkennung soll mittels \glslink{Neuronales Netzwerk}{Neuronaler Netzwerke} realisiert werden.
\end{itemize}

\section{Wunschkriterien}
Im Folgenden werden die Produkteigenschaften und -funktionen genannt, welche für das Projekt als Kann-Anforderungen gelten. Die Erfüllung dieser Kriterien ist vom Auftraggeber nicht verpflichtend gefordert, allerdings gewünscht, da sie das \gls{Produkt} in seiner Nutzbarkeit deutlich aufwerten.

\begin{itemize}
\item Die \gls{App} soll auf \glslink{Smartphone}{Smartphones} mit mindestens iOS Version 10 (Whitetail) ausgeführt werden können.

\item Die \gls{App} soll ohne aktive Internetverbindung nutzbar sein.

\item Zusätzlich zur visuellen Warnung bei überhöhter Geschwindigkeit soll eine Sprachausgabe erfolgen.

\item Die \gls{App} soll Wechselverkehrszeichen zur Geschwindigkeitsregulierung erkennen können.

\item Zur Verbesserung der Erkennungsleistung und zur Korrektur von Fehlern sollen Informationen aus Kartendaten extrahiert und verwendet werden können.

\item Bei Verwendung einer anderen \gls{App}, beispielsweise zur Navigation, soll unter Android die Möglichkeit bestehen, die aktuell erkannten Verkehrszeichen über dieser einzublenden. Dazu muss die Verkehrszeichenerkennung im Hintergrund weiterlaufen können.

\end{itemize}

\section{Abgrenzungskriterien}
Im Folgenden werden die Grenzen des \glslink{Produkt}{Produktes} aufgelistet. Sie stellen Funktionen dar, die in diesem Projekt ausdrücklich nicht bearbeitet und ignoriert werden, um den Zeitaufwand zu begrenzen.
\begin{itemize}
    \item Die Funktionalität wird zu Zeiten mit Niederschlägen und Fahrten bei Nacht nicht garantiert.
    \item Die Funktionalität wird bei starker frontaler Sonneneinstrahlung, welche die Kamera blenden könnte nicht garantiert.
    \item Verkehrszeichen, welche auf die aktuelle Mindest- oder Höchstgeschwindigkeit keinen Einfluss haben, werden von der Erkennung nicht unterstützt.
\end{itemize}

\chapter{Produkteinsatz}
\label{chap:produkteinsatz}

\section{Zielgruppen}
\begin{itemize}
%\hline
\item Das \gls{System} soll von Fahrzeugführern mit Android-\gls{Smartphone} bzw. deren Beifahrern verwendet werden können.

%\hline
\item Die \gls{Filterverwaltungs-Bibliothek} soll von Anwendungs-Programmierern mit Erfahrung in Java und C++ verwendet werden können.
%\hline
\end{itemize}

\section{Betriebsbedingungen}
\label{sec:betriebsbedingungen}

\begin{itemize}

%\item Die App ist für den Dauerbetrieb, also unterbrechungsfreie 24 Stunden pro Tag, ausgelegt.

\item Die Verkehrszeichenerkennung der \gls{App} ist für Geschwindigkeiten bis zu 150km/h ausgelegt.

\item Das \gls{Smartphone}, auf welchem die \gls{App} ausgeführt wird, muss an der Windschutzscheibe bzw. in der Nähe der Windschutzscheibe auf dem Armaturenbrett des Fahrzeugs montiert werden. Die Kamera muss ein freies Sichtfeld auf den Verkehr besitzen und in einem von der \gls{App} festgelegten Winkel auf die Fahrbahn zeigen. Damit dies erreicht werden kann, soll es eine Anleitung zur Ausrichtung in der \gls{App} geben.

\item Die zu erkennenden Verkehrszeichen müssen gemäß \gls{VwV-StVO} §§ 39-43 aufgestellt sein und sich im Originalzustand befinden.

\item Die Verkehrszeichenerkennung wird nur bei Tag und bei klarer Sicht (kein Nebel, kein Niederschlag, kein starkes Gegenlicht) garantiert. (Unter diesen Umständen und einem dunklen Armaturenbrett stellen Spiegelungen an der Frontscheibe kein Problem dar.)

\item Um eine dauerhafte Nutzung zu gewährleisten, muss das \gls{Smartphone} mit einem ausreichend starken Ladegerät verbunden sein. Der verwendete USB-Port sollte erfahrungsgemäß mindestens 2A bei 5V liefern. Die meisten in Autos integrierten USB-Anschlüsse liefern allerdings nicht diese Leistung. Deshalb sollte stattdessen ein KFZ-Ladeadapter mit entsprechend beschriebenen Leistungsfähigkeiten verwendet werden. Das Ladekabel muss zudem in der Lage sein, die beschriebene Leistung zu übertragen. Es ist deshalb empfehlenswert, das Original-Ladekabel oder ein entsprechend der Leistung ausreichend spezifiziertes Kabel zu verwenden. Ein guter Indikator für nicht ausreichende Ladeleistung ist ein abnehmender Ladestand trotz angeschlossenem Ladegerät.

\item Der Stromverbrauch des \glslink{Smartphone}{Smartphones} kann verringert werden, indem beispielsweise das Display maximal bei halber Helligkeit gehalten, im Hintergrund laufende Apps wie z.B. Musikwiedergabe beendet oder Funkverbindungen wie WLAN, Bluetooth oder NFC deaktiviert werden. Bei Bedarf kann die Helligkeit weiter reduziert oder ein anderes Ladegerät und/oder Kabel mit besseren Ladeeigenschaften genutzt werden.

\end{itemize}

\chapter{Produktumgebung}
\section{Software}
Als Betriebssystem muss auf dem \gls{Smartphone} Android, ab Version 7.0 (Nougat, \gls{API} Version 24), installiert sein.\\
Eine Portierung auf iOS, ab Version 10.0 (Whitetail), ist optional geplant.\\
\\
Des Weiteren wird das \glslink{Deep Learning}{Deep-Learning}-Framework \glqq \gls{TensorFlow Lite}\grqq{} benötigt, welches direkt in die \gls{App} eingebunden ist, um diese Abhängigkeit bei der Installation zu erfüllen.\\

\section{Hardware}
\label{chap:hardware}
Als Hardwareumgebung wird ein \gls{Smartphone} vorausgesetzt, welches 2016 oder später veröffentlicht wurde.\\
Das Gerät muss über einen GPS-Empfänger sowie eine integrierte Kamera mit Bildstabilisierung verfügen.
Außerdem soll es einen Qualcomm Snapdragon \gls{SoC} der 600er oder 800er Series\footlink{https://www.qualcomm.com/snapdragon/processors/comparison}{27.04.2018} oder einen anderen mit vergleichbarer Leistung (z.B. vergleichbare \gls{SoC}s der Samsung Exynos Series\footlink{http://www.samsung.com/semiconductor/minisite/exynos/products/all-processors/}{27.04.2018}) besitzen. Weiterhin sollen dem Gerät mindestens 3 Gibibyte Arbeitsspeicher (RAM) zur Verfügung stehen und 512 Mebibyte Speicher frei sein.\\

\chapter{Produktfunktionen}
\label{chap:produktfunk}
Im Folgenden werden die generell geforderten, gewünschten und ausgeschlossenen Anforderungen an das \gls{System} beschrieben. Dabei wird die hier beschriebene Notation zur Markierung des Anforderungstyps verwendet:

\begin{longtabu}{l X[l]}
\mustref{~} & Muss-Anforderung\\
&\\
\shouldref{~} & Soll-Anforderung\\
&\\
\couldref{~} & Kann-Anforderung\\
&\\
\wontref{~} & Abgrenzung\\
&\\
\end{longtabu}

\section{Zu erkennende Verkehrszeichen}
\begin{longtabu}{l X[j]}

\must & Das \gls{System} soll unter den in \cref{sec:betriebsbedingungen} beschriebenen Betriebsbedingungen die im \cref{sec:liste_zu_erkennende_verkehrszeichen} spezifizierten Verkehrszeichen erkennen können.\\
&\\
\must & Das System soll in der Lage sein, ein \gls{Geschwindigkeitsschild}, welches gemäß \gls{StVZO} § 58 an einem voranfahrendem \gls{Fahrzeug} angebracht ist, als solches zu erkennen und herauszufiltern.\\
&\\
\could & Das System kann Wechselverkehrszeichen zur Geschwindigkeitsregulierung erkennen.\\
&\\
\wont & Verkehrszeichen, welche keinen Einfluss auf die erlaubte Geschwindigkeit haben und damit nicht in \cref{sec:liste_zu_erkennende_verkehrszeichen} gelistet sind, werden nicht erkannt oder angezeigt.\\
&\\

\end{longtabu}

\section{Bereitgestellte Funktionen der Filterverwaltungs-Bibliothek}
\begin{longtabu}{l X[j]}

\must & Die \gls{Filterverwaltungs-Bibliothek} erlaubt das Implementieren beliebiger \gls{Filter}, welche Modifikationen auf einer Eingabe ausführen und diese danach für weitere Modifikatonen freigeben.\\
&\\
\must & Die \gls{Filterverwaltungs-Bibliothek} stellt die grundlegenden Funktionen für die Verwendung von \glslink{Filter}{Filtern} und \glslink{Neuronaler Filter}{Neuronalen Filtern}, also \gls{Filter} welche auf \glslink{Neuronales Netzwerk}{Neuronalen Netzwerken} basieren, bereit.\\
&\\
\must & Die \gls{Filter} können einer \gls{Pipe}, also einer Datenverarbeitungsstrecke, hinzugefügt werden. Es ist dabei möglich, mehrere \glslink{Pipe}{Pipes} anzulegen. Ein eingegebenes Bild wird durch selbige verarbeitet.\\
&\\
\should & Es kann konfiguriert werden, ob bestimmte \gls{Filter}, sofern möglich, echt parallel durch \gls{Multithreading} abgearbeitet werden sollen.\\
&\\
\end{longtabu}

\section{Funktionen der App}
Anforderungen an die Benutzeroberfläche werden später in \cref{chap:ui} beschrieben.\\

\begin{longtabu}{l X[j]}

\must & Die \gls{App} soll Kamerabilder aufnehmen und diese mittels der \gls{Filterverwaltungs-Bibliothek} auf Verkehrszeichen, beziehungsweise auf \glslink{Verkehrszeichenkombination}{Verkehrszeichenkombinationen} untersuchen.\\
&\\
\must & Alle erkannten \glslink{Verkehrszeichenkombination}{Verkehrszeichenkombinationen} sollen zeitlich geordnet und in der maximalen Anzahl begrenzt in einer Historie bis zum Beenden der \gls{App} gespeichert werden.\\
&\\
\should & Es soll möglich sein, die maximale Anzahl an \glslink{Verkehrszeichenkombination}{Verkehrszeichenkombinationen}, welche in der Historie aus \mustref{P4302} gehalten werden, festzulegen.\\
&\\
\should & Die \gls{App} soll in der Lage sein, mittels GPS-Ortung die aktuelle Fahrgeschwindigkeit zu ermitteln.\\
&\\
\should & Die Funktion zur Geschwindigkeitsermittlung nach \shouldref{P4304} soll ein- und ausschaltbar sein.\\
&\\
\must & Die \gls{App} soll über eine interaktive Anleitung zur Justierung des \glslink{Smartphone}{Smartphones} in der Halterung verfügen.\\
&\\
\must & Die \gls{App} soll zu Beginn der Verwendung dem \gls{Nutzer} eindeutig vermitteln, dass sie kein Ersatz für die eigene Aufmerksamkeit am Steuer ist und dass deren Anwendung nur innerhalb der geltenden \gls{StVO} erfolgen darf.\\
&\\
\could & Die \gls{App} soll in der Lage sein, zur Verbesserung der Erkennungsleistung und zur Korrektur von Fehlern Informationen aus Kartenmaterial zu extrahieren und anzuwenden.\\
&\\
\end{longtabu}


%Nicht-Funktionale Anforderungen
\chapter{Produktleistungen}
Im Folgenden wird die Notation aus \cref{chap:produktfunk} weiter verwendet.\\

\begin{longtabu}{l X[l]}

\must & Der Prozess der Verkehrszeichenerkennung soll unter Einhaltung der in \cref{chap:hardware} beschriebenen Hardwareanforderungen vom Vorbeifahren am Verkehrszeichen bis zur Anzeige auf dem Bildschirm des \glslink{Smartphone}{Smartphones} maximal eine Sekunde in Anspruch nehmen.\\
&\\
\must & Die erfolgreiche Verkehrszeichenerkennung kann nur bei den unter \cref{sec:betriebsbedingungen} und \cref{chap:hardware} beschriebenen Bedingungen und Hardwareanforderungen verlässlich garantiert werden.\\
&\\
\could & Bei Verwendung einer anderen \gls{App}, beispielsweise zur Navigation, soll unter Android die Möglichkeit bestehen, die aktuell erkannten Verkehrszeichen über dieser einzublenden. Dazu muss die Verkehrszeichenerkennung im Hintergrund weiterlaufen können.\\
&\\
\should & Die \gls{App} soll ohne aktive Internetverbindung funktionieren. Im Fall der Umsetzung von \couldref{P4308} ist diese Anforderung außer Kraft gesetzt.\\
&\\
\must & Die \gls{Filterverwaltungs-Bibliothek} soll modular gestaltet sein, so dass sie auf beliebige \glslink{Detektion}{Detektionsprobleme} übertragen werden kann.\\
&\\
\should & Für Kernfunktionalität und Oberfläche soll eine Trennung in Hinblick auf eine Portierung für das Betriebssystem iOS erfolgen.\\
&\\
\end{longtabu}


\chapter{Benutzeroberfläche}
\label{chap:ui}
Im Folgenden wird die Notation aus \cref{chap:produktfunk} weiter verwendet.\\

\begin{longtabu}{l X[l]}
\must & Die zuletzt erkannte \gls{Verkehrszeichenkombination} soll präsent in der \gls{App} dargestellt werden (siehe \cref{fig:ui_det} links).\\
&\\
\must & Auf dem Display soll neben \mustref{B6001} eine Auswahl der Einträge aus der Historie angezeigt werden (siehe \cref{fig:ui_det} rechts), welche durch eine Wisch-Geste geändert werden kann.\\
&\\
\must & Bei der Darstellung von \glslink{Verkehrszeichenkombination}{Verkehrszeichenkombinationen} auf dem Display soll jeweils die vergangene Zeit seit dem Erkennen mit angezeigt werden (siehe \cref{fig:ui_det} unten).\\
&\\
\should & Wird die Geschwindigkeit nach \shouldref{P4305} ermittelt, soll die \gls{App} eine visuelle Warnung bei erkannter Geschwindigkeitsüberschreitung (zum Beispiel bei Verstoß gegen \gls{VZ} 274) darstellen.\\
&\\
\could & Wird die Geschwindigkeit nach \shouldref{P4305} ermittelt, soll die \gls{App} eine visuelle Warnung bei erkannter Geschwindigkeitsunterschreitung (bei Verstoß gegen \gls{VZ} 275) darstellen.\\
&\\
\could & Zusätzlich zu der in \shouldref{B6004} und \couldref{B6005} beschriebenen visuellen Warnung soll ebenfalls eine ein- und ausschaltbare Sprachausgabe erfolgen.\\
&\\
\should & Zur optimalen Ausrichtung der Kamera ist die Verwendung der \gls{App} nur im Querformat, welcher als Landscape-Mode bezeichnet wird, vorgesehen. Die Benutzung im Hochformat (Portrait-Mode) ist nicht vorgesehen und wird dementsprechend nicht implementiert werden.\\
&\\
\should & Die Sprache der \gls{App} wird automatisch der Systemsprache des Gerätes angepasst. Die \gls{App} ist mit deutscher und englischer Oberfläche verfügbar, wobei im Falle einer von der \gls{App} nicht unterstützten Systemsprache standardmäßig Englisch übernommen wird.\\
&\\
\should & Im Falle einer eingeschalteten Geschwindigkeitsermittlung nach \shouldref{P4305} soll die Geschwindigkeit auf dem Display dargestellt werden (siehe \cref{fig:ui_det} unten links).\\
&\\
\end{longtabu}

\begin{figure}[H]
\centering
\includesvg[width=1\linewidth]{Grafiken/app_det_ls.svg}
\caption{Benutzeroberfläche Konzept}
\label{fig:ui_det}
\end{figure}

\chapter{Qualitätsbestimmungen}

Im Folgenden sei beschrieben, inwiefern nichtfunktionale Kriterien im Endprodukt von Relevanz sind. \\

\begin{longtabu}{|X[l]|c|c|c|}
\hline
\bf Qualitätsmerkmal & \bf essentiell & \bf bedeutend & \bf vernachlässigbar \\ 
\hline
&&&\\
Effizienz               &       &\cmark       &\        \\
&&&\\
\hline
&&&\\
Fehlertoleranz          &       &\cmark &              \\
&&&\\
\hline
&&&\\
Korrektheit             &\cmark &        &              \\
&&&\\
\hline
&&&\\
Nutzerfreundlichkeit    &       &\cmark       &        \\
&&&\\
\hline
&&&\\
Portierbarkeit          &\cmark       &       &        \\
&&&\\
\hline
&&&\\
(Informations-)\newline Sicherheit            && &\cmark \\
&&&\\
\hline
\end{longtabu}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Kapitel 8
% ist ausgelagert
% später \pdfinclude
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\includepdf[landscape=true,pages=-,addtotoc={
     1,chapter,0,Abnahmekriterien und Testfälle,p1,   
     1,section,1,Abnahme für Produktfunktionen und Produktleistungen,p2,
     4,section,1,Beschreibung der Teststrecke,p3}]{Pflichtenheft/SubPDFs/Abnahmekriterien_und_Testfaelle.pdf}

\begin{comment}
\chapter{Realisierungsmodell}

\section{Produktstruktur}
Die \gls{App} dient im \gls{Produkt} vorwiegend als Benutzerschnittstelle, welche mit einer aufgeräumten und übersichtlichen Oberfläche dem \gls{Nutzer} Informationen über bisher erkannte Verkehrszeichen anzeigt. Außerdem bietet sie einen einfachen Zugang zur Kamera \gls{API} des \glslink{Smartphone}{Smartphones}.\\
Die Programm-Bibliothek basiert auf einer \glslink{Pipes and Filters}{\glqq Pipes \& Filters\grqq{}}-Architektur. Das bedeutet: Eingaben werden auf einem zentralen Kommunikationskanal transportiert und nacheinander durch einzelne \gls{Filter} verarbeitet. Hierbei stellt ein \gls{Filter} einen Algorithmus dar, welcher Modifikationen an der gegebenen Eingabe vornimmt und anschließend seine Ausgabe wieder auf die \gls{Pipe} legt, damit der nächste \gls{Filter} sie bearbeiten kann. Daher wird die Bibliothek ab sofort als \glqq{}\gls{Filterverwaltungs-Bibliothek}\grqq{} bezeichnet.\\
Der Algorithmus, den ein \gls{Filter} verwendet, kann auch von einem \glslink{Neuronales Netzwerk}{Neuronalen Netzwerk} realisiert werden. Daher werden im Folgenden solche speziellen \gls{Filter} als \glqq Neuronale Filter\grqq{} bezeichnet.\\ 
\\
Um mit dem \gls{Produkt} die gewünschte Erkennung zu realisieren, werden mittels der \gls{App} kontinuierlich Kamerabilder geschossen, welche in Echtzeit an die \gls{Filterverwaltungs-Bibliothek} übergeben werden. Dort sind bereits verschiedene \gls{Filter} und \gls{Neuronaler Filter}{Neuronale Filter} geladen, welche in Stufen Verkehrszeichen detektieren, also im Bildbereich lokalisieren, und klassifizieren, also die Art und Bedeutung des Schildes erkennen. Nachdem die Erkennung abgeschlossen ist, visualisiert die \gls{App} die Ergebnisse für den \gls{Nutzer}.

\begin{longtabu}{l X[j]}
%\hline
{[K001]} & Das Gesamtsystem besteht aus einer Benutzeroberfläche zur Anzeige der erkannten Verkehrszeichen sowie einem Backend zur Auswertung der Bilddaten. Dieses baut auf einer wiederverwendbaren \gls{API} (siehe \cref{sec:subsys}) auf, mit der sich beliebige ähnliche Detektionsprobleme durch entsprechende bereitgestellte Funktionalitäten, wie Laden und Auswerten \glslink{Neuronales Netzwerk}{Neuronaler Detektor- oder Klassifikatornetzwerke}, lösen lassen.\\
&\\
%\hline
{[K002]} & Die \gls{Filter-API} (siehe \cref{subsec:detec-api}) soll aus der \gls{App} in eine eigene Library ausgelagert werden.\\
%\hline
\end{longtabu}

\section{Verwendete Programmiersprachen, Algorithmen und Bibliotheken}
\begin{longtabu}{l X[j]}
%\hline
{[K101]} & Das \glslink{Neuronales Netzwerk}{Neuronale Netzwerk} wird in Python trainiert.\\
&\\
%\hline
{[K102]} & Die \gls{API} wird in C++ geschrieben werden.\\
&\\
%\hline
{[K103]} & Die \gls{App} wird in Java und XML geschrieben werden.\\
&\\
%\hline
{[K104]} & Für die \gls{Detektion} werden sowohl klassische Verfahren als auch Deep-Learning-Techniken in Betracht gezogen. Es wird das Verfahren mit der besten Erfolgswahrscheinlichkeit im Endprodukt verwendet.\\
&\\
%\hline
{[K105]} & Für das Neuronale Netzwerk wird das für Mobilanwendungen optimierte Deep-Learning-Framework \gls{TensorFlow Lite} verwendet.\\
%\hline
\end{longtabu}

\section{Verwendete Datensätze und Bildquellen}
\begin{longtabu}{l X[j]}
%\hline
\must{req:GTSRB} & Es wird der \glqq German Traffic Sign Recognition Benchmark\grqq{}-Datensatz der Ruhr-Universität Bochum\footnote{http://benchmark.ini.rub.de/?section=gtsrb\&subsection=news} verwendet. Er umfasst ca. 900 Bilder mit bis zu 5 Verkehrszeichen aus 43 Klassen.\\
&\\
%\hline
\must{req:GTSDB} & Es wird der \glqq German Traffic Sign Detection Benchmark\grqq{}-Datensatz der Ruhr-Universität Bochum\footnote{http://benchmark.ini.rub.de/?section=gtsdb\&subsection=news} verwendet. Er umfasst ca. 50.000 Bilder aufgeteilt auf etwa 400 bis 2000 \glslink{Sample}{Samples} pro Klasse.\\
%\hline
\end{longtabu}
Diese Datensätze sind allerdings nicht für das Training ausreichend. Es werden nicht alle zu erkennenden Verkehrszeichen abgedeckt und die Menge an \glslink{Sample}{Samples} pro Verkehrszeichen ist teilweise zu klein. Deshalb werden wir folgende Ansatz verfolgen, um weitere \glslink{Sample}{Samples} zu erhalten:
\begin{longtabu}{l X[j]}
%\hline
{[K203]} & Es werden mit dem \gls{Smartphone} Fahrten aufgenommen und diese selbst gelabelt.\\
&\\
%\hline
{[K204]} & Nach Bedarf werden Online-Ressourcen wie der KITTI-Datensatz des Karlsruher Institut für Technologie\footlink{http://www.cvlibs.net/datasets/kitti/
}{27.04.2018}, Time-Lapse-Videos von Fahrten oder weitere Bildresourcen verwendet. Die Verkehrszeichen aus diesen Quellen müssen selbst gelabelt werden.\\
%\hline
\end{longtabu}

\


\chapter{Subsystemstruktur}
\label{sec:subsys}

\begin{figure}[H]
\centering
\includegraphics[width=0.6\linewidth]{Reviewdokument/Grafiken/Component_Diagram.png}
    \caption{UML-Diagramm der Subsystemstruktur}
	\label{fig:subsys}
\end{figure}

Die einzelnen Subsysteme bzw. Komponenten seien im Folgenden näher erläutert.

\section{Back-End}

Das Back-End der Anwendung besteht aus der \gls{Filter-API}, welche nach dem \glslink{Pipes and Filters}{Pipes-and-Filters-Prinzip} klassische Algorithmen oder \glslink{Neuronales Netzwerk}{Neuronale Netzwerke} auf einer \gls{Pipe} registriert. Im Folgenden werden diese \gls{Filter} bzw. \glslink{Neuronaler Filter}{Neuronale Filter} genannt.

\subsection{Filter-API}
\label{subsec:detec-api}

\begin{longtabu}{l X[j]}
{[S211]} & Die \gls{Filter-API} wird den Kern des Back-Ends des \gls{System}s darstellen.\\
&\\
{[S212]} & Basierend auf \glqq \gls{Pipes and Filters}\grqq{}-Architektur soll die \gls{Filter-API} alle \gls{Filter} und Neuronalen Filter verwalten. Näheres dazu unter [S215], [S216] und [S217].\\
&\\
{[S213]} & Die \gls{Filter-API} kann einstellbar viele \gls{Pipe} besitzen, auf der \gls{Filter} registriert werden können.\\
&\\
{[S214]} & Die \gls{Filter-API} soll Bilder entgegennehmen und darauf die entsprechenden \gls{Filter} anwenden, wobei Metainformationen wie z.B. die Position eines erkannten Objektes im Bild, erzeugt werden. Diese Metainformationen können ggf. in der weiteren Verarbeitung verwendet werden.\\
&\\
{[S215]} & Ein \gls{Filter} im Sinne der \gls{Filter-API} ist eine Klasse, die eine Methode implementiert, welche ein Bild (ggf. mit Metainformationen) entgegennimmt, diese jeweils bearbeitet und wieder an die \gls{Pipe} übergibt.\\
&\\
{[S216]} & Von der Basisklasse \gls{Filter} sollen Unterklassen abgeleitet werden können, sodass sich beliebige \gls{Filter} implementieren lassen werden.\\
&\\
{[S217]} & Ein standardmäßig implementierter \gls{Filter} ist der \glslink{Neuronaler Filter}{Neuronale Filter}, welcher Filterfunktionen auf Basis \glslink{Neuronales Netzwerk}{Neuronaler Netzwerke} anwendet. Näheres dazu im Entwurfsdokument.\\
\end{longtabu}

\subsection{Verkehrszeichen-API}

\begin{longtabu}{l X[j]}
{[S221]} & Die \gls{Verkehrszeichen-API} soll die \gls{Filter-API} benutzen, um die entsprechend benötigten \gls{Filter} zur Verkehrszeichenerkennung zu definieren und zu verwalten.\\
&\\
{[S222]} & Sie kann dabei ein Einzelbild oder eine Serie aus Bildern entgegennehmen und an die \gls{Filter-API} übergeben. Entsprechend der Bewertung durch diese werden die erkannten Schilder zurückgegeben.
\end{longtabu}
\end{comment}

\input{Pflichtenheft/TeX/Anhang.tex}
\end{document}
